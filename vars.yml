username: "{{ lookup('env','USER') }}"
home: "{{ lookup('env','HOME') }}"

bpkg:
  - gitwatch
  - mc
  - xclip
cargo:
  - shellharden
  - difft
go:
  - github.com/wallix/awless
  # - github.com/muesli/beehive
pip:
  - awscli
  - awslogs
  - virtualenv
  - http-prompt
  - git-sweep
  - markdown
  - ctop
  - thefuck
  - pipdeptree
  - pip-review
  - yq
  - organize-tool
  - asciinema
  - stormssh
  - keep
  - glances[all]
npm:
  - diff-so-fancy
  - graphqurl
  - matrix-rain
  - organize-cli
  - serverless
  - graphql
  - graphqurl
  - kubelive
  - aws-amplify/cli
  - npm-check-updates
  # - api-spec-converter
gem:
  - tmuxinator
  - bundler
  - bundle
  - mdless
  - travis
  - thor
  - rake
  - ri
  - erubis
  - irb
  - racc
manual_common: # This commands should to be idempotent
  - sudo: no
    commands:
      - "wget -qO- https://raw.githubusercontent.com/aserrallerios/dotfiles/master/bootstrap.sh | bash"
      - "export GITHUB_TOKEN={{ lookup('env','GITHUB_TOKEN') }}; sh -c \"$(curl -sSL --header 'Authorization: token {{ lookup('env','GITHUB_TOKEN') }}' --header 'Accept: application/vnd.github.v3.raw' --location https://raw.githubusercontent.com/aserrallerios/sensible.dotfiles/master/bootstrap.sh)\""
  - sudo: no
    commands:
      - curl https://sh.rustup.rs -sSf | sh -s -- -y
      - pyenv install 3.10.8
      - pyenv global 3.10.8
  - sudo: yes
    commands:
      - "chsh -s $(which zsh) {{ username }}"
manual: "{{ common_manual }}"
binary:
  - name: cs
    gzip: yes # this is not implemented yet, btw
    url: https://github.com/coursier/launchers/raw/master/cs-x86_64-apple-darwin.gz
# docker-compose:
#  - francescou/docker-compose-ui
#  - v2tec/watchtower
#  - astefanutti/kubebox # docker run -it --rm -v ~/.kube/:/home/node/.kube/:ro astefanutti/kubebox
#  - portainer?
